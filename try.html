<!DOCTYPE html>
<html>
<head>
  <title>Enter Password</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    input, button { padding: 10px; width: 100%; margin-top: 10px; }
  </style>
</head>
<body>
  <h2>Enter One-Time Password</h2>
  <input type="text" id="inputPassword" placeholder="Enter password here" />
  <button onclick="checkPassword()">Submit</button>
  <p id="message"></p>

  <script>
    function checkPassword() {
      const input = document.getElementById("inputPassword").value.trim();
      let passwords = JSON.parse(localStorage.getItem("valid_passwords") || "[]");
      let used = JSON.parse(localStorage.getItem("used_passwords") || "[]");

      if (used.includes(input)) {
        document.getElementById("message").innerText = "Password already used!";
        return;
      }

      if (passwords.includes(input)) {
        used.push(input);
        localStorage.setItem("used_passwords", JSON.stringify(used));
        window.location.href = "home.html";
      } else {
        document.getElementById("message").innerText = "Invalid password!";
      }
    }
  </script>
</body>
</html>
